// REVIEW LIVE CODE III CONTOH DARI SISWA

const data = {
  juniorClass: [
    {
      name: "Adi",
      gender: "Male",
      score: {
        science: 42,
        social: 31,
        math: 39,
      },
    },
    {
      name: "Bagus",
      gender: "Male",
      score: {
        science: 77,
        social: 88,
        math: 99,
      },
    },
    {
      name: "Coki",
      gender: "Male",
      score: {
        science: 92,
        social: 83,
        math: 91,
      },
    },
    {
      name: "Desi",
      gender: "Female",
      score: {
        science: 99,
        social: 97,
        math: 93,
      },
    },
    {
      name: "Endah",
      gender: "Female",
      score: {
        science: 83,
        social: 85,
        math: 79,
      },
    },
    {
      name: "Fauzan",
      gender: "Male",
      score: {
        science: 73,
        social: 81,
        math: 69,
      },
    },
    {
      name: "Ghita",
      gender: "Female",
      score: {
        science: 81,
        social: 80,
        math: 82,
      },
    },
  ],
  middleClass: [
    {
      name: "Annisa",
      gender: "Female",
      score: {
        science: 95,
        social: 98,
        math: 94,
      },
    },
    {
      name: "Aulia",
      gender: "Female",
      score: {
        science: 79,
        social: 80,
        math: 76,
      },
    },
    {
      name: "Aziz",
      gender: "Male",
      score: {
        science: 45,
        social: 35,
        math: 31,
      },
    },
    {
      name: "Dinda",
      gender: "Female",
      score: {
        science: 66,
        social: 68,
        math: 49,
      },
    },
    {
      name: "Dwi",
      gender: "Male",
      score: {
        science: 69,
        social: 78,
        math: 68,
      },
    },
    {
      name: "Fuqron",
      gender: "Male",
      score: {
        science: 77,
        social: 65,
        math: 83,
      },
    },
    {
      name: "Gracia",
      gender: "Female",
      score: {
        science: 99,
        social: 99,
        math: 100,
      },
    },
    {
      name: "Ichsan",
      gender: "Male",
      score: {
        science: 77,
        social: 78,
        math: 72,
      },
    },
    {
      name: "Lucky",
      gender: "Male",
      score: {
        science: 80,
        social: 71,
        math: 93,
      },
    },
    {
      name: "Kirana",
      gender: "Female",
      score: {
        science: 71,
        social: 73,
        math: 72,
      },
    },
  ],
  seniorClass: [
    {
      name: "Daniel",
      gender: "Male",
      score: {
        science: 97,
        social: 98,
        math: 100,
      },
    },
    {
      name: "Evi",
      gender: "Female",
      score: {
        science: 88,
        social: 62,
        math: 97,
      },
    },
    {
      name: "Hilda",
      gender: "Female",
      score: {
        science: 70,
        social: 55,
        math: 80,
      },
    },
    {
      name: "Iman",
      gender: "Male",
      score: {
        science: 50,
        social: 85,
        math: 60,
      },
    },
    {
      name: "Indah",
      gender: "Female",
      score: {
        science: 70,
        social: 78,
        math: 89,
      },
    },
    {
      name: "Kania",
      gender: "Female",
      score: {
        science: 87,
        social: 83,
        math: 90,
      },
    },
    {
      name: "Lestari",
      gender: "Female",
      score: {
        science: 75,
        social: 65,
        math: 81,
      },
    },
    {
      name: "Maulana",
      gender: "Male",
      score: {
        science: 56,
        social: 78,
        math: 83,
      },
    },
    {
      name: "Puji",
      gender: "Male",
      score: {
        science: 65,
        social: 77,
        math: 82,
      },
    },
    {
      name: "Rizky",
      gender: "Male",
      score: {
        science: 65,
        social: 90,
        math: 71,
      },
    },
    {
      name: "Rizal",
      gender: "Male",
      score: {
        science: 72,
        social: 78,
        math: 70,
      },
    },
    {
      name: "Saepulloh",
      gender: "Male",
      score: {
        science: 56,
        social: 85,
        math: 75,
      },
    },
    {
      name: "Salma",
      gender: "Female",
      score: {
        science: 65,
        social: 77,
        math: 83,
      },
    },
    {
      name: "Suherdi",
      gender: "Male",
      score: {
        science: 56,
        social: 78,
        math: 75,
      },
    },
    {
      name: "Syahdan",
      gender: "Male",
      score: {
        science: 60,
        social: 75,
        math: 82,
      },
    },
    {
      name: "Yogi",
      gender: "Male",
      score: {
        science: 65,
        social: 72,
        math: 70,
      },
    },
  ],
  masterClass: [
    {
      name: "Agnes",
      gender: "Female",
      score: {
        science: 67,
        social: 72,
        math: 75,
      },
    },
    {
      name: "Cathy",
      gender: "Female",
      score: {
        science: 70,
        social: 72,
        math: 80,
      },
    },
    {
      name: "Desty",
      gender: "Female",
      score: {
        science: 60,
        social: 70,
        math: 77,
      },
    },
    {
      name: "Indah",
      gender: "Female",
      score: {
        science: 2,
        social: 0,
        math: 1,
      },
    },
    {
      name: "Junni",
      gender: "Female",
      score: {
        science: 55,
        social: 70,
        math: 65,
      },
    },
    {
      name: "Ocil",
      gender: "Male",
      score: {
        science: 70,
        social: 80,
        math: 78,
      },
    },
    {
      name: "Rani",
      gender: "Female",
      score: {
        science: 65,
        social: 75,
        math: 72,
      },
    },
    {
      name: "Rasma",
      gender: "Female",
      score: {
        science: 55,
        social: 63,
        math: 75,
      },
    },
    {
      name: "Yatmi",
      gender: "Female",
      score: {
        science: 65,
        social: 60,
        math: 55,
      },
    },
  ],
};

// Case I: (nilai siswa adalah total dari semua nilai yang ada)
// Buat function untuk menghitung rata-rata total nilai dari tiap kelas!
// Kelas mana yang memiliki nilai rata-rata total nilai paling tinggi? // String

function getAverageValue(argument) {
  let totalScore = 0;
  for (let i = 0; i < argument.length; i++) {
    const currentData = argument[i];

    let personalScore =
      (currentData.score.science +
        currentData.score.social +
        currentData.score.math) /
      3;
    totalScore += personalScore;
  }
  totalScore = (totalScore / argument.length).toFixed(2);

  return totalScore;
}

console.log(getAverageValue(data.juniorClass));
console.log(getAverageValue(data.middleClass));
console.log(getAverageValue(data.seniorClass));
console.log(getAverageValue(data.masterClass));

// Case II: (juara umum adalah juara dari keseluruhan siswa)
// Buat function untuk mencari juara umum I, II, dan III!
// Berapa rata-rata total nilai yang di dapat oleh juara umum? // Number // maksimal 2 decimal
function getFinalScore() {
  let finalScore = [];
  for (let typeClass in data) {
    for (let i = 0; i < data[typeClass].length; i++) {
      const currentData = data[typeClass][i];

      let personalScore =
        (currentData.score.science +
          currentData.score.social +
          currentData.score.math) /
        3;

      personalScore = personalScore.toFixed(2);

      const newObj = {
        name: currentData.name,
        score: personalScore,
      };

      finalScore.push(newObj);
    }
  }
  return finalScore;
}

function getAllWinner() {
  const finalScore = getFinalScore();
  let juaraI = { name: null, score: 0 };
  let juaraII = { name: null, score: 0 };
  let juaraIII = { name: null, score: 0 };

  for (let i = 0; i < finalScore.length; i++) {
    if (finalScore[i].score > juaraI.score) {
      juaraI.name = finalScore[i].name;
      juaraI.score = finalScore[i].score;
    } else if (finalScore[i].score > juaraII.score) {
      juaraII.name = finalScore[i].name;
      juaraII.score = finalScore[i].score;
    } else if (finalScore[i].score > juaraIII.score) {
      juaraIII.name = finalScore[i].name;
      juaraIII.score = finalScore[i].score;
    }
  }

  console.log(`Juara 1 : ${juaraI.name} - ${juaraI.score}`);
  console.log(`Juara 2 : ${juaraII.name} - ${juaraII.score}`);
  console.log(`Juara 3 : ${juaraIII.name} - ${juaraIII.score}`);
}

getAllWinner();
